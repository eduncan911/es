
# hosting
    import "github.com/eduncan911/es/hosting"

Package hosting defines a `hosting.New(...)` helper method for use in creating the runtime by taking in modules and registering their API routes and Event Handlers.

Example:


	package main
	
	import (
		"log"
		"net/http"
	
		"github.com/eduncan911/es/hosting"
		"github.com/eduncan911/es/bus"
		"github.com/eduncan911/es/env"
	
		"github.com/gorilla/mux"
	)
	
	func main() {
	
		router := mux.NewRouter()
		memBus := bus.NewMem()
	
		var wrap = bus.WrapWithLogging(memBus)
		modules := factory(wrap)
	
		// call the hosting.New(...) helper method
		//
		var host = hosting.New(modules)
	
		host.WireHttp(router)
		host.WireHandlers(memBus)
		memBus.Start()
	
		bind := ":8001"
		log.Info("Listening at %v", bind)
		log.Panic(http.ListenAndServe(bind, router))
	}
	
	func factory(pub env.Publisher) []env.Module {
		return []env.Module{
			views.NewModule(pub),
			task.NewModule(pub),
		}
	}







## type Context
``` go
type Context struct {
    Items []*env.Container
}
```
Context represents a runtime's context of containers, modules, routes and event handlers









### func New
``` go
func New(modules []env.Module) *Context
```
New instantiates a new Context by defining a new `env.Container` and registering
that container with the module




### func (\*Context) WireHTTP
``` go
func (c *Context) WireHTTP(router *mux.Router)
```
WireHTTP iterates over an instantiated context's `env.Container` collection to
register each Route with the API's `mux.Router`



### func (\*Context) WireHandlers
``` go
func (c *Context) WireHandlers(bus bus.Bus)
```
WireHandlers iterates over an instantiated context's `env.Container` collection to
register each EventHandler on the application's defined `bus.Bus`









- - -
Generated by [godoc2md](http://godoc.org/github.com/davecheney/godoc2md)